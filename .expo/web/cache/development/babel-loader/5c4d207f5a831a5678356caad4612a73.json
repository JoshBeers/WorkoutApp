{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeElements = require(\"react-native-elements\");\n\nvar _reactNativeCalendars = require(\"react-native-calendars\");\n\nvar _reactNativeSvgCharts = require(\"react-native-svg-charts\");\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _Colors = _interopRequireDefault(require(\"../Themes/Colors\"));\n\nvar firebase = _interopRequireWildcard(require(\"firebase\"));\n\nvar _Workout = require(\"../Classes/Workout\");\n\nvar _TabNavigator = _interopRequireDefault(require(\"../Navigation/TabNavigator\"));\n\nvar _StatisticsScreen = _interopRequireDefault(require(\"./StatisticsScreen\"));\n\nvar _jsxFileName = \"D:\\\\school\\\\softdev projects\\\\WorkoutApp\\\\Screens\\\\HomeScreen.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar HomeScreen = function (_React$Component) {\n  (0, _inherits2.default)(HomeScreen, _React$Component);\n\n  var _super = _createSuper(HomeScreen);\n\n  function HomeScreen() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, HomeScreen);\n    _this = _super.call(this);\n    _this.stepPercentage = 0.6;\n    _this.stepCount = 2500;\n    _this.today = (0, _moment.default)().format('YYYY-MM-DD');\n\n    _this.signOutUser = function () {\n      firebase.auth().signOut();\n    };\n\n    _this.state = {\n      marked: null,\n      email: '',\n      displayName: '',\n      dates: []\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(HomeScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      firebase.firestore().collection('Users').doc(firebase.auth().currentUser.uid).get().then(function (doc) {\n        _this2.setState({\n          email: doc.data().Email,\n          displayName: doc.data().Username\n        });\n      });\n      this.getDates(function (result) {\n        _this2.setState({\n          dates: result\n        });\n      });\n    }\n  }, {\n    key: \"getDates\",\n    value: function getDates(callback) {\n      (0, _Workout.getAllCompleteWorkoutsWithoutExercises)(function (result) {\n        var temp = [];\n\n        for (var i = 0; i < result.length; i++) {\n          temp.push(result[i].date);\n          console.log(\"sqllog_HomeScreen_getDates\", result[i]);\n        }\n\n        console.log(\"sqllog_HomeScreen_getDates\", temp);\n        callback(temp);\n        return temp;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(_reactNative.View, {\n        style: styles.home,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_reactNativeElements.Card, {\n        containerStyle: styles.stepsCard,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNativeSvgCharts.ProgressCircle, {\n        progress: this.stepPercentage,\n        style: {\n          height: 100\n        },\n        progressColor: _Colors.default.btn,\n        backgroundColor: _Colors.default.background,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }\n      }), _react.default.createElement(_reactNative.Text, {\n        style: styles.stepText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }\n      }, this.stepCount, \" STEPS\")), _react.default.createElement(_reactNativeElements.Card, {\n        containerStyle: styles.calendarCard,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNativeCalendars.Calendar, {\n        current: this.today,\n        style: {\n          width: 364\n        },\n        theme: {\n          backgroundColor: _Colors.default.card,\n          calendarBackground: _Colors.default.card,\n          arrowColor: _Colors.default.negative,\n          dayTextColor: _Colors.default.text,\n          monthTextColor: _Colors.default.text\n        },\n        enableSwipeMonths: true,\n        markedDates: this.state.marked,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }\n      })), _react.default.createElement(Tab.Navigator, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(Tab.Screen, {\n        name: \"Stats\",\n        component: _StatisticsScreen.default,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }\n      })));\n    }\n  }]);\n  return HomeScreen;\n}(_react.default.Component);\n\nexports.default = HomeScreen;\n\nvar styles = _reactNative.StyleSheet.create({\n  home: {\n    backgroundColor: _Colors.default.background,\n    flex: 1\n  },\n  stepsCard: {\n    marginTop: 50,\n    width: 366,\n    backgroundColor: _Colors.default.card,\n    borderWidth: 0,\n    alignSelf: 'center'\n  },\n  calendarCard: {\n    backgroundColor: _Colors.default.card,\n    borderWidth: 0,\n    width: 366,\n    alignSelf: 'center',\n    alignItems: 'center'\n  },\n  bottomMenu: {},\n  stepText: {\n    color: _Colors.default.text,\n    fontSize: 27,\n    alignSelf: 'center',\n    marginTop: 7\n  }\n});","map":{"version":3,"sources":["D:/school/softdev projects/WorkoutApp/Screens/HomeScreen.js"],"names":["HomeScreen","stepPercentage","stepCount","today","format","signOutUser","firebase","auth","signOut","state","marked","email","displayName","dates","firestore","collection","doc","currentUser","uid","get","then","setState","data","Email","Username","getDates","result","callback","temp","i","length","push","date","console","log","styles","home","stepsCard","height","Colors","btn","background","stepText","calendarCard","width","backgroundColor","card","calendarBackground","arrowColor","negative","dayTextColor","text","monthTextColor","StatisticsScreen","React","Component","StyleSheet","create","flex","marginTop","borderWidth","alignSelf","alignItems","bottomMenu","color","fontSize"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AAQA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;IAEqBA,U;;;;;AAEnB,wBAAc;AAAA;;AAAA;AACZ;AADY,UAQdC,cARc,GAQG,GARH;AAAA,UASdC,SATc,GASF,IATE;AAAA,UAUdC,KAVc,GAUN,uBAASC,MAAT,CAAgB,YAAhB,CAVM;;AAAA,UAgCdC,WAhCc,GAgCA,YAAM;AAClBC,MAAAA,QAAQ,CAACC,IAAT,GAAgBC,OAAhB;AACD,KAlCa;;AAEZ,UAAKC,KAAL,GAAa;AAAEC,MAAAA,MAAM,EAAE,IAAV;AACXC,MAAAA,KAAK,EAAE,EADI;AAEXC,MAAAA,WAAW,EAAE,EAFF;AAGXC,MAAAA,KAAK,EAAE;AAHI,KAAb;AAFY;AAOb;;;;wCAKmB;AAAA;;AAClBP,MAAAA,QAAQ,CAACQ,SAAT,GAAqBC,UAArB,CAAgC,OAAhC,EAAyCC,GAAzC,CAA6CV,QAAQ,CAACC,IAAT,GAAgBU,WAAhB,CAA4BC,GAAzE,EAA8EC,GAA9E,GAAoFC,IAApF,CAAyF,UAACJ,GAAD,EAAQ;AAE/F,QAAA,MAAI,CAACK,QAAL,CAAc;AACZV,UAAAA,KAAK,EAAEK,GAAG,CAACM,IAAJ,GAAWC,KADN;AAEZX,UAAAA,WAAW,EAAEI,GAAG,CAACM,IAAJ,GAAWE;AAFZ,SAAd;AAKD,OAPD;AASA,WAAKC,QAAL,CAAc,UAACC,MAAD,EAAU;AACtB,QAAA,MAAI,CAACL,QAAL,CAAc;AACZR,UAAAA,KAAK,EAAGa;AADI,SAAd;AAID,OALD;AAOD;;;6BAcQC,Q,EAAS;AAEhB,2DAAuC,UAAUD,MAAV,EAAkB;AACvD,YAAIE,IAAI,GAAG,EAAX;;AAGA,aAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAACH,MAAM,CAACI,MAAxB,EAAgCD,CAAC,EAAjC,EAAoC;AAClCD,UAAAA,IAAI,CAACG,IAAL,CAAUL,MAAM,CAACG,CAAD,CAAN,CAAUG,IAApB;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAAyCR,MAAM,CAACG,CAAD,CAA/C;AACD;;AACDI,QAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAAyCN,IAAzC;AACAD,QAAAA,QAAQ,CAACC,IAAD,CAAR;AACA,eAAOA,IAAP;AACD,OAXD;AA+BD;;;6BAEQ;AACP,aACI,6BAAC,iBAAD;AAAM,QAAA,KAAK,EAAEO,MAAM,CAACC,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,6BAAC,yBAAD;AAAM,QAAA,cAAc,EAAED,MAAM,CAACE,SAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,6BAAC,oCAAD;AACI,QAAA,QAAQ,EAAE,KAAKpC,cADnB;AAEI,QAAA,KAAK,EAAE;AACLqC,UAAAA,MAAM,EAAE;AADH,SAFX;AAKI,QAAA,aAAa,EAAEC,gBAAOC,GAL1B;AAMI,QAAA,eAAe,EAAED,gBAAOE,UAN5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAQE,6BAAC,iBAAD;AAAM,QAAA,KAAK,EAAEN,MAAM,CAACO,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKxC,SADR,WARF,CADF,EAaE,6BAAC,yBAAD;AAAM,QAAA,cAAc,EAAIiC,MAAM,CAACQ,YAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,6BAAC,8BAAD;AACI,QAAA,OAAO,EAAI,KAAKxC,KADpB;AAEI,QAAA,KAAK,EAAI;AAACyC,UAAAA,KAAK,EAAE;AAAR,SAFb;AAGI,QAAA,KAAK,EAAE;AACLC,UAAAA,eAAe,EAAEN,gBAAOO,IADnB;AAELC,UAAAA,kBAAkB,EAAER,gBAAOO,IAFtB;AAGLE,UAAAA,UAAU,EAAET,gBAAOU,QAHd;AAILC,UAAAA,YAAY,EAAEX,gBAAOY,IAJhB;AAKLC,UAAAA,cAAc,EAAEb,gBAAOY;AALlB,SAHX;AAUI,QAAA,iBAAiB,EAAE,IAVvB;AAWI,QAAA,WAAW,EAAE,KAAK1C,KAAL,CAAWC,MAX5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAbF,EA4BE,6BAAC,GAAD,CAAK,SAAL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,6BAAC,GAAD,CAAK,MAAL;AAAY,QAAA,IAAI,EAAG,OAAnB;AAA2B,QAAA,SAAS,EAAG2C,yBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CA5BF,CADJ;AAkCD;;;EAnHqCC,eAAMC,S;;;;AAsH9C,IAAMpB,MAAM,GAAGqB,wBAAWC,MAAX,CAAkB;AAC/BrB,EAAAA,IAAI,EAAE;AACJS,IAAAA,eAAe,EAAEN,gBAAOE,UADpB;AAEJiB,IAAAA,IAAI,EAAE;AAFF,GADyB;AAK/BrB,EAAAA,SAAS,EAAE;AACTsB,IAAAA,SAAS,EAAE,EADF;AAETf,IAAAA,KAAK,EAAE,GAFE;AAGTC,IAAAA,eAAe,EAAEN,gBAAOO,IAHf;AAITc,IAAAA,WAAW,EAAE,CAJJ;AAKTC,IAAAA,SAAS,EAAE;AALF,GALoB;AAY/BlB,EAAAA,YAAY,EAAE;AACZE,IAAAA,eAAe,EAAEN,gBAAOO,IADZ;AAEZc,IAAAA,WAAW,EAAE,CAFD;AAGZhB,IAAAA,KAAK,EAAE,GAHK;AAIZiB,IAAAA,SAAS,EAAE,QAJC;AAKZC,IAAAA,UAAU,EAAE;AALA,GAZiB;AAmB/BC,EAAAA,UAAU,EAAE,EAnBmB;AAqB/BrB,EAAAA,QAAQ,EAAE;AACRsB,IAAAA,KAAK,EAAEzB,gBAAOY,IADN;AAERc,IAAAA,QAAQ,EAAE,EAFF;AAGRJ,IAAAA,SAAS,EAAE,QAHH;AAIRF,IAAAA,SAAS,EAAE;AAJH;AArBqB,CAAlB,CAAf","sourcesContent":["import React from 'react';\r\nimport {\r\n  StyleSheet,\r\n  TextInput,\r\n  View,\r\n  Text,\r\n  Button,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport {Card} from 'react-native-elements';\r\nimport {Calendar, CalendarList, Agenda} from 'react-native-calendars';\r\nimport {ProgressCircle} from 'react-native-svg-charts';\r\nimport moment from 'moment';\r\nimport Colors from '../Themes/Colors';\r\nimport * as firebase from 'firebase';\r\nimport {getAllCompleteWorkoutsWithoutExercises} from \"../Classes/Workout\";\r\nimport TabNavigator from \"../Navigation/TabNavigator\";\r\nimport StatisticsScreen from \"./StatisticsScreen\";\r\n\r\nexport default class HomeScreen extends React.Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = { marked: null,\r\n      email: '',\r\n      displayName: '',\r\n      dates: []\r\n    };\r\n  }\r\n  stepPercentage = 0.6; //Place holder variable\r\n  stepCount = 2500; // Place holder variable\r\n  today = moment().format('YYYY-MM-DD');\r\n\r\n  componentDidMount() {\r\n    firebase.firestore().collection('Users').doc(firebase.auth().currentUser.uid).get().then((doc) =>{\r\n      //alert(doc.data())\r\n      this.setState({\r\n        email: doc.data().Email,\r\n        displayName: doc.data().Username\r\n      })\r\n\r\n    });\r\n\r\n    this.getDates((result)=>{\r\n      this.setState({\r\n        dates : result\r\n      })\r\n      //console.log(\"dataLog_HomeScreen_AfterGettingDates\",this.state)\r\n    })\r\n\r\n  }\r\n\r\n\r\n  signOutUser = () => {\r\n    firebase.auth().signOut();\r\n  };\r\n/*\r\n  markDates = () => {\r\n    let aDate = this.getDates().reduce((a, b) => Object.assign(a, {[b]: {selected: true, dotColor: Colors.positive}}), {});\r\n    this.setState({marked : aDate});\r\n  }\r\n\r\n */\r\n\r\n  getDates(callback){\r\n\r\n    getAllCompleteWorkoutsWithoutExercises(function (result) {\r\n      let temp = [];\r\n\r\n\r\n      for(let i = 0; i<result.length; i++){\r\n        temp.push(result[i].date)\r\n        console.log(\"sqllog_HomeScreen_getDates\",result[i])\r\n      }\r\n      console.log(\"sqllog_HomeScreen_getDates\",temp)\r\n      callback(temp)\r\n      return temp;\r\n    })\r\n\r\n    /*\r\n\r\n    db.transaction(tx =>{\r\n      tx.executeSql(\"select date from Workouts;\",[],(_,rows) =>{\r\n\r\n        let temp = [];\r\n\r\n\r\n        for(i = 0; i<rows.rows.length; i++){\r\n          temp.push(rows.rows._array[i].date)\r\n          console.log(\"sqllog_HomeScreen_getDates\",rows.rows._array[i])\r\n        }\r\n\r\n        return rows;\r\n      })\r\n    })\r\n\r\n     */\r\n  }\r\n\r\n  render() {\r\n    return(\r\n        <View style={styles.home}>\r\n          <Card containerStyle={styles.stepsCard}>\r\n            <ProgressCircle\r\n                progress={this.stepPercentage}\r\n                style={{\r\n                  height: 100,\r\n                }}\r\n                progressColor={Colors.btn}\r\n                backgroundColor={Colors.background}/>\r\n            <Text style={styles.stepText}>\r\n              {this.stepCount} STEPS\r\n            </Text>\r\n          </Card>\r\n          <Card containerStyle = {styles.calendarCard}>\r\n            <Calendar\r\n                current = {this.today}\r\n                style = {{width: 364,}}\r\n                theme={{\r\n                  backgroundColor: Colors.card,\r\n                  calendarBackground: Colors.card,\r\n                  arrowColor: Colors.negative,\r\n                  dayTextColor: Colors.text,\r\n                  monthTextColor: Colors.text,\r\n                }}\r\n                enableSwipeMonths={true}\r\n                markedDates={this.state.marked}\r\n            />\r\n          </Card>\r\n          <Tab.Navigator>\r\n            <Tab.Screen name = \"Stats\" component={ StatisticsScreen }/>\r\n          </Tab.Navigator>\r\n        </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  home: {\r\n    backgroundColor: Colors.background,\r\n    flex: 1,\r\n  },\r\n  stepsCard: {\r\n    marginTop: 50,\r\n    width: 366,\r\n    backgroundColor: Colors.card,\r\n    borderWidth: 0,\r\n    alignSelf: 'center',\r\n  },\r\n  calendarCard: {\r\n    backgroundColor: Colors.card,\r\n    borderWidth: 0,\r\n    width: 366,\r\n    alignSelf: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  bottomMenu: {\r\n  },\r\n  stepText: {\r\n    color: Colors.text,\r\n    fontSize: 27,\r\n    alignSelf: 'center',\r\n    marginTop: 7,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"script"}