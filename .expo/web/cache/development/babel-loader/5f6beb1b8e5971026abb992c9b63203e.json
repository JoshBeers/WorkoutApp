{"ast":null,"code":"var _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar array = _interopRequireWildcard(require(\"d3-array\"));\n\nvar scale = _interopRequireWildcard(require(\"d3-scale\"));\n\nvar shape = _interopRequireWildcard(require(\"d3-shape\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeSvg = _interopRequireDefault(require(\"react-native-svg\"));\n\nvar _animatedPath = _interopRequireDefault(require(\"../animated-path\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar Chart = function (_PureComponent) {\n  (0, _inherits2.default)(Chart, _PureComponent);\n\n  var _super = _createSuper(Chart);\n\n  function Chart() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Chart);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty((0, _assertThisInitialized2.default)(_this), \"state\", {\n      width: 0,\n      height: 0\n    });\n\n    return _this;\n  }\n\n  (0, _createClass2.default)(Chart, [{\n    key: \"_onLayout\",\n    value: function _onLayout(event) {\n      var _event$nativeEvent$la = event.nativeEvent.layout,\n          height = _event$nativeEvent$la.height,\n          width = _event$nativeEvent$la.width;\n      this.setState({\n        height: height,\n        width: width\n      });\n    }\n  }, {\n    key: \"createPaths\",\n    value: function createPaths() {\n      throw 'Extending \"Chart\" requires you to override \"createPaths';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          data = _this$props.data,\n          xAccessor = _this$props.xAccessor,\n          yAccessor = _this$props.yAccessor,\n          yScale = _this$props.yScale,\n          xScale = _this$props.xScale,\n          style = _this$props.style,\n          animate = _this$props.animate,\n          animationDuration = _this$props.animationDuration,\n          numberOfTicks = _this$props.numberOfTicks,\n          _this$props$contentIn = _this$props.contentInset,\n          _this$props$contentIn2 = _this$props$contentIn.top,\n          top = _this$props$contentIn2 === void 0 ? 0 : _this$props$contentIn2,\n          _this$props$contentIn3 = _this$props$contentIn.bottom,\n          bottom = _this$props$contentIn3 === void 0 ? 0 : _this$props$contentIn3,\n          _this$props$contentIn4 = _this$props$contentIn.left,\n          left = _this$props$contentIn4 === void 0 ? 0 : _this$props$contentIn4,\n          _this$props$contentIn5 = _this$props$contentIn.right,\n          right = _this$props$contentIn5 === void 0 ? 0 : _this$props$contentIn5,\n          gridMax = _this$props.gridMax,\n          gridMin = _this$props.gridMin,\n          clampX = _this$props.clampX,\n          clampY = _this$props.clampY,\n          svg = _this$props.svg,\n          children = _this$props.children;\n      var _this$state = this.state,\n          width = _this$state.width,\n          height = _this$state.height;\n\n      if (data.length === 0) {\n        return _react.default.createElement(_reactNative.View, {\n          style: style\n        });\n      }\n\n      var mappedData = data.map(function (item, index) {\n        return {\n          y: yAccessor({\n            item: item,\n            index: index\n          }),\n          x: xAccessor({\n            item: item,\n            index: index\n          })\n        };\n      });\n      var yValues = mappedData.map(function (item) {\n        return item.y;\n      });\n      var xValues = mappedData.map(function (item) {\n        return item.x;\n      });\n      var yExtent = array.extent([].concat((0, _toConsumableArray2.default)(yValues), [gridMin, gridMax]));\n      var xExtent = array.extent((0, _toConsumableArray2.default)(xValues));\n      var _this$props2 = this.props,\n          _this$props2$yMin = _this$props2.yMin,\n          yMin = _this$props2$yMin === void 0 ? yExtent[0] : _this$props2$yMin,\n          _this$props2$yMax = _this$props2.yMax,\n          yMax = _this$props2$yMax === void 0 ? yExtent[1] : _this$props2$yMax,\n          _this$props2$xMin = _this$props2.xMin,\n          xMin = _this$props2$xMin === void 0 ? xExtent[0] : _this$props2$xMin,\n          _this$props2$xMax = _this$props2.xMax,\n          xMax = _this$props2$xMax === void 0 ? xExtent[1] : _this$props2$xMax;\n      var y = yScale().domain([yMin, yMax]).range([height - bottom, top]).clamp(clampY);\n      var x = xScale().domain([xMin, xMax]).range([left, width - right]).clamp(clampX);\n      var paths = this.createPaths({\n        data: mappedData,\n        x: x,\n        y: y\n      });\n      var ticks = y.ticks(numberOfTicks);\n\n      var extraProps = _objectSpread({\n        x: x,\n        y: y,\n        data: data,\n        ticks: ticks,\n        width: width,\n        height: height\n      }, paths);\n\n      return _react.default.createElement(_reactNative.View, {\n        style: style\n      }, _react.default.createElement(_reactNative.View, {\n        style: {\n          flex: 1\n        },\n        onLayout: function onLayout(event) {\n          return _this2._onLayout(event);\n        }\n      }, height > 0 && width > 0 && _react.default.createElement(_reactNativeSvg.default, {\n        style: {\n          height: height,\n          width: width\n        }\n      }, _react.default.Children.map(children, function (child) {\n        if (child && child.props.belowChart) {\n          return _react.default.cloneElement(child, extraProps);\n        }\n\n        return null;\n      }), _react.default.createElement(_animatedPath.default, _extends({\n        fill: 'none'\n      }, svg, {\n        d: paths.path,\n        animate: animate,\n        animationDuration: animationDuration\n      })), _react.default.Children.map(children, function (child) {\n        if (child && !child.props.belowChart) {\n          return _react.default.cloneElement(child, extraProps);\n        }\n\n        return null;\n      }))));\n    }\n  }]);\n  return Chart;\n}(_react.PureComponent);\n\nChart.propTypes = {\n  data: _propTypes.default.oneOfType([_propTypes.default.arrayOf(_propTypes.default.object), _propTypes.default.arrayOf(_propTypes.default.number), _propTypes.default.arrayOf(_propTypes.default.array)]).isRequired,\n  svg: _propTypes.default.object,\n  style: _propTypes.default.any,\n  animate: _propTypes.default.bool,\n  animationDuration: _propTypes.default.number,\n  curve: _propTypes.default.func,\n  contentInset: _propTypes.default.shape({\n    top: _propTypes.default.number,\n    left: _propTypes.default.number,\n    right: _propTypes.default.number,\n    bottom: _propTypes.default.number\n  }),\n  numberOfTicks: _propTypes.default.number,\n  gridMin: _propTypes.default.number,\n  gridMax: _propTypes.default.number,\n  yMin: _propTypes.default.any,\n  yMax: _propTypes.default.any,\n  xMin: _propTypes.default.any,\n  xMax: _propTypes.default.any,\n  clampX: _propTypes.default.bool,\n  clampY: _propTypes.default.bool,\n  xScale: _propTypes.default.func,\n  yScale: _propTypes.default.func,\n  xAccessor: _propTypes.default.func,\n  yAccessor: _propTypes.default.func\n};\nChart.defaultProps = {\n  svg: {},\n  width: 100,\n  height: 100,\n  curve: shape.curveLinear,\n  contentInset: {},\n  numberOfTicks: 10,\n  xScale: scale.scaleLinear,\n  yScale: scale.scaleLinear,\n  xAccessor: function xAccessor(_ref) {\n    var index = _ref.index;\n    return index;\n  },\n  yAccessor: function yAccessor(_ref2) {\n    var item = _ref2.item;\n    return item;\n  }\n};\nvar _default = Chart;\nexports.default = _default;","map":{"version":3,"sources":["chart.js"],"names":["width","height","nativeEvent","layout","contentInset","top","bottom","left","right","children","data","style","mappedData","y","yAccessor","item","index","x","xAccessor","yValues","xValues","yExtent","array","xExtent","yMin","yMax","xMin","xMax","yScale","xScale","paths","ticks","extraProps","flex","event","child","React","animationDuration","Chart","PropTypes","svg","animate","curve","number","numberOfTicks","gridMin","gridMax","clampX","clampY","func","shape","scale"],"mappings":"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","sourcesContent":["import * as array from 'd3-array'\nimport * as scale from 'd3-scale'\nimport * as shape from 'd3-shape'\nimport PropTypes from 'prop-types'\nimport React, { PureComponent } from 'react'\nimport { View } from 'react-native'\nimport Svg from 'react-native-svg'\nimport Path from '../animated-path'\n\nclass Chart extends PureComponent {\n    state = {\n        width: 0,\n        height: 0,\n    }\n\n    _onLayout(event) {\n        const {\n            nativeEvent: {\n                layout: { height, width },\n            },\n        } = event\n        this.setState({ height, width })\n    }\n\n    createPaths() {\n        throw 'Extending \"Chart\" requires you to override \"createPaths'\n    }\n\n    render() {\n        const {\n            data,\n            xAccessor,\n            yAccessor,\n            yScale,\n            xScale,\n            style,\n            animate,\n            animationDuration,\n            numberOfTicks,\n            contentInset: { top = 0, bottom = 0, left = 0, right = 0 },\n            gridMax,\n            gridMin,\n            clampX,\n            clampY,\n            svg,\n            children,\n        } = this.props\n\n        const { width, height } = this.state\n\n        if (data.length === 0) {\n            return <View style={style} />\n        }\n\n        const mappedData = data.map((item, index) => ({\n            y: yAccessor({ item, index }),\n            x: xAccessor({ item, index }),\n        }))\n\n        const yValues = mappedData.map((item) => item.y)\n        const xValues = mappedData.map((item) => item.x)\n\n        const yExtent = array.extent([...yValues, gridMin, gridMax])\n        const xExtent = array.extent([...xValues])\n\n        const { yMin = yExtent[0], yMax = yExtent[1], xMin = xExtent[0], xMax = xExtent[1] } = this.props\n\n        //invert range to support svg coordinate system\n        const y = yScale()\n            .domain([yMin, yMax])\n            .range([height - bottom, top])\n            .clamp(clampY)\n\n        const x = xScale()\n            .domain([xMin, xMax])\n            .range([left, width - right])\n            .clamp(clampX)\n\n        const paths = this.createPaths({\n            data: mappedData,\n            x,\n            y,\n        })\n\n        const ticks = y.ticks(numberOfTicks)\n\n        const extraProps = {\n            x,\n            y,\n            data,\n            ticks,\n            width,\n            height,\n            ...paths,\n        }\n\n        return (\n            <View style={style}>\n                <View style={{ flex: 1 }} onLayout={(event) => this._onLayout(event)}>\n                    {height > 0 && width > 0 && (\n                        <Svg style={{ height, width }}>\n                            {React.Children.map(children, (child) => {\n                                if (child && child.props.belowChart) {\n                                    return React.cloneElement(child, extraProps)\n                                }\n                                return null\n                            })}\n                            <Path\n                                fill={'none'}\n                                {...svg}\n                                d={paths.path}\n                                animate={animate}\n                                animationDuration={animationDuration}\n                            />\n                            {React.Children.map(children, (child) => {\n                                if (child && !child.props.belowChart) {\n                                    return React.cloneElement(child, extraProps)\n                                }\n                                return null\n                            })}\n                        </Svg>\n                    )}\n                </View>\n            </View>\n        )\n    }\n}\n\nChart.propTypes = {\n    data: PropTypes.oneOfType([\n        PropTypes.arrayOf(PropTypes.object),\n        PropTypes.arrayOf(PropTypes.number),\n        PropTypes.arrayOf(PropTypes.array),\n    ]).isRequired,\n    svg: PropTypes.object,\n\n    style: PropTypes.any,\n\n    animate: PropTypes.bool,\n    animationDuration: PropTypes.number,\n\n    curve: PropTypes.func,\n    contentInset: PropTypes.shape({\n        top: PropTypes.number,\n        left: PropTypes.number,\n        right: PropTypes.number,\n        bottom: PropTypes.number,\n    }),\n    numberOfTicks: PropTypes.number,\n\n    gridMin: PropTypes.number,\n    gridMax: PropTypes.number,\n\n    yMin: PropTypes.any,\n    yMax: PropTypes.any,\n    xMin: PropTypes.any,\n    xMax: PropTypes.any,\n    clampX: PropTypes.bool,\n    clampY: PropTypes.bool,\n\n    xScale: PropTypes.func,\n    yScale: PropTypes.func,\n\n    xAccessor: PropTypes.func,\n    yAccessor: PropTypes.func,\n}\n\nChart.defaultProps = {\n    svg: {},\n    width: 100,\n    height: 100,\n    curve: shape.curveLinear,\n    contentInset: {},\n    numberOfTicks: 10,\n    xScale: scale.scaleLinear,\n    yScale: scale.scaleLinear,\n    xAccessor: ({ index }) => index,\n    yAccessor: ({ item }) => item,\n}\n\nexport default Chart\n"]},"metadata":{},"sourceType":"script"}