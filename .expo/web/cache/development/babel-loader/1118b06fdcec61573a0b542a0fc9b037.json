{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends3 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeElements = require(\"react-native-elements\");\n\nvar _reactNativeCalendars = require(\"react-native-calendars\");\n\nvar _reactNativeSvgCharts = require(\"react-native-svg-charts\");\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _Colors = _interopRequireDefault(require(\"../Themes/Colors\"));\n\nvar firebase = _interopRequireWildcard(require(\"firebase\"));\n\nvar SQLite = _interopRequireWildcard(require(\"expo-sqlite\"));\n\nvar _jsxFileName = \"D:\\\\school\\\\softdev projects\\\\WorkoutApp\\\\Screens\\\\HomeScreen.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar HomeScreen = function (_React$Component) {\n  (0, _inherits2.default)(HomeScreen, _React$Component);\n\n  var _super = _createSuper(HomeScreen);\n\n  function HomeScreen() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, HomeScreen);\n    _this = _super.call(this);\n    _this.stepPercentage = 0.6;\n    _this.stepCount = 2500;\n    _this.today = (0, _moment.default)().format('YYYY-MM-DD');\n    _this.state = {\n      email: '',\n      displayName: '',\n      dates: []\n    };\n\n    _this.signOutUser = function () {\n      firebase.auth().signOut();\n    };\n\n    _this.markDates = function () {\n      var aDate = _this.getDates().reduce(function (a, b) {\n        return (0, _extends3.default)(a, (0, _defineProperty2.default)({}, b, {\n          selected: true,\n          dotColor: _Colors.default.positive\n        }));\n      }, {});\n\n      _this.setState({\n        marked: aDate\n      });\n    };\n\n    _this.state = {\n      marked: null\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(HomeScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      firebase.firestore().collection('Users').doc(firebase.auth().currentUser.uid).get().then(function (doc) {\n        _this2.setState({\n          email: doc.data().Email,\n          displayName: doc.data().Username\n        });\n      });\n      this.setState({\n        dates: this.getDates()\n      });\n    }\n  }, {\n    key: \"getDates\",\n    value: function getDates() {\n      var db = SQLite.openDatabase(\"workoutAppDB.db\");\n      db.transaction(function (tx) {\n        tx.executeSql(\"select date from Workouts;\", [], function (_, rows) {\n          var temp = [];\n\n          for (i = 0; i < rows.rows.length; i++) {\n            temp.push(rows.rows._array[i].date);\n          }\n\n          return rows;\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(_reactNative.View, {\n        style: styles.home,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_reactNativeElements.Card, {\n        containerStyle: styles.stepsCard,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNativeSvgCharts.ProgressCircle, {\n        progress: this.stepPercentage,\n        style: {\n          height: 100\n        },\n        progressColor: _Colors.default.btn,\n        backgroundColor: _Colors.default.background,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }\n      }), _react.default.createElement(_reactNative.Text, {\n        style: styles.stepText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }\n      }, this.stepCount, \" STEPS\")), _react.default.createElement(_reactNativeElements.Card, {\n        containerStyle: styles.calendarCard,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNativeCalendars.Calendar, {\n        current: this.today,\n        style: {\n          width: 364\n        },\n        theme: {\n          backgroundColor: _Colors.default.card,\n          calendarBackground: _Colors.default.card,\n          arrowColor: _Colors.default.negative,\n          dayTextColor: _Colors.default.text,\n          monthTextColor: _Colors.default.text\n        },\n        enableSwipeMonths: true,\n        markedDates: this.state.marked,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }\n      })));\n    }\n  }]);\n  return HomeScreen;\n}(_react.default.Component);\n\nexports.default = HomeScreen;\n\nvar styles = _reactNative.StyleSheet.create({\n  home: {\n    backgroundColor: _Colors.default.background,\n    flex: 1\n  },\n  stepsCard: {\n    marginTop: 50,\n    width: 366,\n    backgroundColor: _Colors.default.card,\n    borderWidth: 0,\n    alignSelf: 'center'\n  },\n  calendarCard: {\n    backgroundColor: _Colors.default.card,\n    borderWidth: 0,\n    width: 366,\n    alignSelf: 'center',\n    alignItems: 'center'\n  },\n  bottomMenu: {},\n  stepText: {\n    color: _Colors.default.text,\n    fontSize: 27,\n    alignSelf: 'center',\n    marginTop: 7\n  }\n});","map":{"version":3,"sources":["D:/school/softdev projects/WorkoutApp/Screens/HomeScreen.js"],"names":["HomeScreen","stepPercentage","stepCount","today","format","state","email","displayName","dates","signOutUser","firebase","auth","signOut","markDates","aDate","getDates","reduce","a","b","selected","dotColor","Colors","positive","setState","marked","firestore","collection","doc","currentUser","uid","get","then","data","Email","Username","db","SQLite","openDatabase","transaction","tx","executeSql","_","rows","temp","i","length","push","_array","date","styles","home","stepsCard","height","btn","background","stepText","calendarCard","width","backgroundColor","card","calendarBackground","arrowColor","negative","dayTextColor","text","monthTextColor","React","Component","StyleSheet","create","flex","marginTop","borderWidth","alignSelf","alignItems","bottomMenu","color","fontSize"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {\r\n  StyleSheet,\r\n  TextInput,\r\n  View,\r\n  Text,\r\n  Button,\r\n  TouchableOpacity,\r\n} from 'react-native';\r\nimport {Card} from 'react-native-elements';\r\nimport {Calendar, CalendarList, Agenda} from 'react-native-calendars';\r\nimport {ProgressCircle} from 'react-native-svg-charts';\r\nimport moment from 'moment';\r\nimport Colors from '../Themes/Colors';\r\nimport * as firebase from 'firebase';\r\nimport * as SQLite from 'expo-sqlite';\r\n\r\n\r\nexport default class HomeScreen extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = { marked: null, };\r\n  }\r\n  stepPercentage = 0.6; //Place holder variable\r\n  stepCount = 2500; // Place holder variable\r\n  today = moment().format('YYYY-MM-DD');\r\n\r\n  state = {\r\n    email: '',\r\n    displayName: '',\r\n    dates: []\r\n  };\r\n  componentDidMount() {\r\n    firebase.firestore().collection('Users').doc(firebase.auth().currentUser.uid).get().then((doc) =>{\r\n      //alert(doc.data())\r\n      this.setState({\r\n        email: doc.data().Email,\r\n        displayName: doc.data().Username\r\n      })\r\n\r\n    });\r\n\r\n    this.setState({\r\n      dates: this.getDates()\r\n    })\r\n  }\r\n\r\n\r\n  signOutUser = () => {\r\n    firebase.auth().signOut();\r\n  };\r\n\r\n  markDates = () => {\r\n    let aDate = this.getDates().reduce((a, b) => Object.assign(a, {[b]: {selected: true, dotColor: Colors.positive}}), {});\r\n    this.setState({marked : aDate});\r\n  }\r\n\r\n  getDates(){\r\n\r\n    const db = SQLite.openDatabase(\"workoutAppDB.db\");\r\n\r\n    db.transaction(tx =>{\r\n      tx.executeSql(\"select date from Workouts;\",[],(_,rows) =>{\r\n\r\n        let temp = [];\r\n\r\n\r\n        for(i = 0; i<rows.rows.length; i++){\r\n          temp.push(rows.rows._array[i].date)\r\n          //console.log(\"sqlloggg\",rows.rows._array[i])\r\n        }\r\n\r\n        return rows;\r\n      })\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return(\r\n        <View style={styles.home}>\r\n          <Card containerStyle={styles.stepsCard}>\r\n            <ProgressCircle\r\n                progress={this.stepPercentage}\r\n                style={{\r\n                  height: 100,\r\n                }}\r\n                progressColor={Colors.btn}\r\n                backgroundColor={Colors.background}/>\r\n            <Text style={styles.stepText}>\r\n              {this.stepCount} STEPS\r\n            </Text>\r\n          </Card>\r\n          <Card containerStyle = {styles.calendarCard}>\r\n            <Calendar\r\n                current = {this.today}\r\n                style = {{width: 364,}}\r\n                theme={{\r\n                  backgroundColor: Colors.card,\r\n                  calendarBackground: Colors.card,\r\n                  arrowColor: Colors.negative,\r\n                  dayTextColor: Colors.text,\r\n                  monthTextColor: Colors.text,\r\n                }}\r\n                enableSwipeMonths={true}\r\n                markedDates={this.state.marked}\r\n            />\r\n          </Card>\r\n        </View>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  home: {\r\n    backgroundColor: Colors.background,\r\n    flex: 1,\r\n  },\r\n  stepsCard: {\r\n    marginTop: 50,\r\n    width: 366,\r\n    backgroundColor: Colors.card,\r\n    borderWidth: 0,\r\n    alignSelf: 'center',\r\n  },\r\n  calendarCard: {\r\n    backgroundColor: Colors.card,\r\n    borderWidth: 0,\r\n    width: 366,\r\n    alignSelf: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  bottomMenu: {\r\n  },\r\n  stepText: {\r\n    color: Colors.text,\r\n    fontSize: 27,\r\n    alignSelf: 'center',\r\n    marginTop: 7,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"script"}